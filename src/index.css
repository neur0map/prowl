@import "tailwindcss";

/* ═══════════════════════════════════════════════════════════════
   TAILWIND V4 THEME — APPLE LIQUID GLASS
═══════════════════════════════════════════════════════════════ */
@theme {
  /* Backgrounds — Apple system grays */
  --color-void: #1c1c1e;
  --color-deep: #2c2c2e;
  --color-surface: #38383a;
  --color-elevated: #48484a;
  --color-hover: #545456;

  /* Borders */
  --color-border-subtle: rgba(255, 255, 255, 0.08);
  --color-border-default: rgba(255, 255, 255, 0.15);

  /* Text — Apple opacity hierarchy */
  --color-text-primary: #f5f5f7;
  --color-text-secondary: rgba(255, 255, 255, 0.55);
  --color-text-muted: rgba(255, 255, 255, 0.35);

  /* Accent — Apple system blue */
  --color-accent: #0A84FF;
  --color-accent-dim: #0070E0;

  /* Node colors — slightly desaturated */
  --color-node-file: #5A9CF5;
  --color-node-folder: #8085EC;
  --color-node-class: #E0A243;
  --color-node-function: #3EBD8C;
  --color-node-interface: #D96FA0;
  --color-node-import: #7A7F8A;
  --color-node-method: #3AADA0;

  /* Fonts */
  --font-sans: 'Outfit', -apple-system, BlinkMacSystemFont, system-ui, sans-serif;
  --font-mono: 'JetBrains Mono', 'SF Mono', 'Fira Code', monospace;

  /* Animations — restrained */
  --animate-fade-in: fade-in 0.15s ease-out;

  /* Shadows — no glows, soft elevation */
  --shadow-sm: 0 1px 4px rgba(0, 0, 0, 0.2);
  --shadow-md: 0 4px 16px rgba(0, 0, 0, 0.25);
  --shadow-lg: 0 8px 32px rgba(0, 0, 0, 0.35);
}

/* Keyframes */
@keyframes fade-in {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes fadeSlideIn {
  from { opacity: 0; transform: translateY(6px); }
  to { opacity: 1; transform: translateY(0); }
}

/* ═══════════════════════════════════════════════════════════════
   BASE STYLES
═══════════════════════════════════════════════════════════════ */
* {
  box-sizing: border-box;
}

html,
body,
#root {
  height: 100%;
}

body {
  background-color: var(--color-void);
  color: var(--color-text-primary);
  font-family: var(--font-sans);
  font-size: 13px;
  font-weight: 400;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* ═══════════════════════════════════════════════════════════════
   GLASS UTILITIES
═══════════════════════════════════════════════════════════════ */
.glass {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(40px) saturate(180%);
  -webkit-backdrop-filter: blur(40px) saturate(180%);
  border: 1px solid rgba(255, 255, 255, 0.15);
}

.glass-elevated {
  background: rgba(255, 255, 255, 0.12);
  backdrop-filter: blur(60px) saturate(200%);
  -webkit-backdrop-filter: blur(60px) saturate(200%);
  border: 1px solid rgba(255, 255, 255, 0.18);
}

.glass-subtle {
  background: rgba(255, 255, 255, 0.05);
  backdrop-filter: blur(20px) saturate(150%);
  -webkit-backdrop-filter: blur(20px) saturate(150%);
  border: 1px solid rgba(255, 255, 255, 0.10);
}

/* ═══════════════════════════════════════════════════════════════
   CUSTOM SCROLLBAR
═══════════════════════════════════════════════════════════════ */
.scrollbar-thin {
  scrollbar-width: thin;
  scrollbar-color: rgba(255, 255, 255, 0.15) transparent;
}

.scrollbar-thin::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

.scrollbar-thin::-webkit-scrollbar-track {
  background: transparent;
}

.scrollbar-thin::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.15);
  border-radius: 3px;
}

.scrollbar-thin::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.25);
}

/* ═══════════════════════════════════════════════════════════════
   CHAT MESSAGE PROSE STYLES
═══════════════════════════════════════════════════════════════ */
.chat-prose {
  font-size: 13px;
  line-height: 1.7;
  color: var(--color-text-primary);
}

.chat-prose p,
.chat-prose ul,
.chat-prose ol,
.chat-prose pre,
.chat-prose blockquote,
.chat-prose table {
  margin-top: 0;
  margin-bottom: 0.875em;
}

.chat-prose p:last-child,
.chat-prose ul:last-child,
.chat-prose ol:last-child,
.chat-prose pre:last-child,
.chat-prose blockquote:last-child {
  margin-bottom: 0;
}

.chat-prose strong {
  font-weight: 500;
  color: #fff;
}

.chat-prose em {
  font-style: italic;
  color: var(--color-text-secondary);
}

/* Headers */
.chat-prose h1,
.chat-prose h2,
.chat-prose h3,
.chat-prose h4 {
  font-weight: 500;
  color: #fff;
  margin-top: 1.25em;
  margin-bottom: 0.5em;
  line-height: 1.3;
}

.chat-prose h1 { font-size: 1.125em; }
.chat-prose h2 { font-size: 1em; }
.chat-prose h3 { font-size: 0.9375em; }

.chat-prose h4 {
  font-size: 0.8125em;
  text-transform: uppercase;
  letter-spacing: 0.04em;
  color: var(--color-text-secondary);
}

.chat-prose>h1:first-child,
.chat-prose>h2:first-child,
.chat-prose>h3:first-child,
.chat-prose>h4:first-child {
  margin-top: 0;
}

/* Lists */
.chat-prose ul,
.chat-prose ol {
  margin: 0.625em 0;
  padding-left: 1.25em;
}

.chat-prose li {
  margin: 0.25em 0;
  padding-left: 0.25em;
}

.chat-prose li::marker {
  color: var(--color-accent);
}

.chat-prose ul ul,
.chat-prose ol ol,
.chat-prose ul ol,
.chat-prose ol ul {
  margin: 0.25em 0;
}

/* Inline code */
.chat-prose code:not([class*="language-"]) {
  padding: 0.15em 0.4em;
  background: rgba(255, 255, 255, 0.1);
  border-radius: 4px;
  font-family: var(--font-mono);
  font-size: 0.85em;
  color: #f5f5f7 !important;
  border: 1px solid rgba(255, 255, 255, 0.12);
  font-weight: 400;
}

.chat-prose a code:not([class*="language-"]),
.chat-prose strong code:not([class*="language-"]),
.chat-prose em code:not([class*="language-"]) {
  color: #f5f5f7 !important;
}

/* Code blocks */
.chat-prose pre {
  margin: 0.875em 0;
  border-radius: 6px;
  overflow: hidden;
}

/* Blockquotes */
.chat-prose blockquote {
  margin: 0.875em 0;
  padding: 0.5em 1em;
  border-left: 2px solid rgba(255, 255, 255, 0.2);
  background: rgba(255, 255, 255, 0.04);
  border-radius: 0 4px 4px 0;
  color: var(--color-text-secondary);
}

.chat-prose blockquote p {
  margin: 0;
}

/* Horizontal rules */
.chat-prose hr {
  margin: 1.25em 0;
  border: none;
  border-top: 1px solid rgba(255, 255, 255, 0.1);
}

/* Links */
.chat-prose a:not(.code-ref-btn) {
  color: var(--color-accent);
  text-decoration: none;
}

.chat-prose a:not(.code-ref-btn):hover {
  text-decoration: underline;
}

/* Tables */
.chat-prose table {
  width: 100%;
  margin: 0.875em 0;
  border-collapse: collapse;
  font-size: 0.85em;
}

.chat-prose th,
.chat-prose td {
  padding: 0.4em 0.625em;
  border: 1px solid rgba(255, 255, 255, 0.08);
  text-align: left;
}

.chat-prose th {
  background: rgba(255, 255, 255, 0.05);
  font-weight: 500;
  color: var(--color-text-secondary);
}

.chat-prose tr:nth-child(even) td {
  background: rgba(255, 255, 255, 0.03);
}

/* ═══════════════════════════════════════════════════════════════
   SIGMA.JS CONTAINER
═══════════════════════════════════════════════════════════════ */
.sigma-container {
  width: 100%;
  height: 100%;
}

.sigma-container canvas {
  outline: none;
}
